import{r,o as _,c,a as e,w as u,v as i,F as m,u as v,b as w}from"./index-97567366.js";import{a as f}from"./api-2cc68f04.js";import"./request-0c074812.js";const h=e("h1",null,"Login",-1),g={class:"info"},y={class:"info_input"},b=e("label",{for:"email"},"Email：",-1),k={class:"info_input"},x=e("label",{for:"password"},"Password：",-1),V={__name:"LoginItem",setup(d){const l=v(),s=r({user:{email:"",password:""}}),n=r(""),p=async()=>{try{const o=await f(s.value);console.log(o),s.value.user.email="",s.value.user.password="",alert("Login successful!"),l.push("/todo"),n.value=o.headers.authorization,localStorage.setItem("userToken",n.value)}catch{alert("please check your password!"),s.value.user.email="",s.value.user.password=""}};return(o,a)=>(_(),c(m,null,[h,e("div",g,[e("form",null,[e("div",y,[b,u(e("input",{type:"email",placeholder:"Email...",class:"email",name:"email","onUpdate:modelValue":a[0]||(a[0]=t=>s.value.user.email=t)},null,512),[[i,s.value.user.email]])]),e("div",k,[x,u(e("input",{type:"password",placeholder:"Password...",class:"password",name:"password","onUpdate:modelValue":a[1]||(a[1]=t=>s.value.user.password=t)},null,512),[[i,s.value.user.password]])])])]),e("div",{class:"button"},[e("button",{onClick:p},"Login")])],64))}};const I={__name:"HomeView",setup(d){return(l,s)=>(_(),c("main",null,[w(V)]))}};export{I as default};
